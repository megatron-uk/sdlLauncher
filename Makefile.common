OBJFILES = bmp2text.o gamedata.o menu.o
all: $(EXE)

$(EXE):  $(OBJFILES)
	$(CC) $(CFLAGS) -o $(EXE) $(OBJFILES) $(SDL_LDFLAGS)
	$(STRIP) -s $(EXE)
	
menu.o: menu.c
	$(CC) -c $(CFLAGS) -DGAMEDIR=$(GAMEDIR) -DDIR_SEP=$(DIR_SEP) $< -o $@
	
bmp2text.o: bmp2text.c
	$(CC) -c $(CFLAGS) -DGAMEDIR=$(GAMEDIR) -DDIR_SEP=$(DIR_SEP) $< -o $@

gamedata.o: gamedata.c
	$(CC) -c $(CFLAGS) -DGAMEDIR=$(GAMEDIR) -DDIR_SEP=$(DIR_SEP) $< -o $@
	
clean:
	rm -f *.o *.a $(EXE) core